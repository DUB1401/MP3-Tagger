# melon-manga
**melon-manga** – это универсальный расширяемый rolling-формат описательных файлов манги, использующийся в Melon.

# Основные принципы
* _**Единая типизация**_ – все тайтлы приводятся к общему списку типов: _manga_, _manhwa_, _manhua_, _oel_, _western_comic_, _russian_comic_, _indonesian_comic_.
* _**Максимальная однозначность**_ – каждое поле имеет или заранее определённый тип с валидным значением, либо же является `null` или пустой структурой при отсутствии данных.
* _**Независимость**_ – формат полностью абстрагирован от источников и не является специфичным для какого-либо из них.
* _**Порядковый индекс**_ – индекс слайда соответствует его порядковому номеру в главе, то есть нумеруется с единицы для удобства считывания данных человеком.
* _**Расширяемость**_ – парсеры могут предоставлять дополнительные данные, не описанные в данном манифесте.
* _**Синтетические идентификаторы**_ – если тайтл, ветвь или глава не имеет целочисленного идентификатора, таковой будет сгенерирован с условием повторяемости результата и уникальности в разрезе источника.
* _**Уважение труда**_ – переводчики глав всегда указываются в соответствующих полях, если такая информация доступна в источнике.
* _**Чёткие статусы**_ – используются только основные и наиболее информативные статусы: _announced_, _ongoing_, _completed_, _dropped_.
* _**Rolling**_ – формат не версионируется и может изменяться без предупреждений и без поддержки обратной совместимости.

# Пример
```json
{
	"format": "melon-manga",
	"site": "example.com",
	"id": 123,
	"slug": "manga_slug",
	"ru_name": "Название манги",
	"en_name": "Manga name",
	"another_names": [
		"Manga mei"
	],
	"covers": [
		{
			"link": "https://example.com/manga_slug/cover.jpg",
			"filename": "cover.jpg"
		}
	],
	"authors": [
		"Имя автора"
	],
	"publication_year": 2024,
	"description": "Первый абзац описания.\nВторой абзац описания.",
	"age_limit": 16,
	"type": "manga",
	"status": "ongoing",
	"is_licensed": false,
	"genres": [
		"название жанра"
	],
	"tags": [
		"название тега"
	],
	"franchises": [
		"название франшизы"
	],
	"branches": [
		{
			"id": 123456,
			"chapters_count": 1
		}
	],
	"content": {
		"123456": [
			{
				"id": 1,
				"volume": "1",
				"number": "1",
				"name": "Название главы",
				"is_paid": false,
				"translators": [
					"Имя переводчика"
				],
				"slides": [
					{
						"index": 1,
						"link": "https://example.com/manga_slug/vol1_ch1/1.jpg"
					}
				]
			}
		]
	}
}
```
